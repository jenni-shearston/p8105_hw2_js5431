---
title: "p8105_hw2_js5431"
author: "J Shearston"
date: "September 25, 2018"
output: 
  github_document:
    toc: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

## Problem #1

#### Importing and tidying up the data

```{r import and clean data, message = FALSE}
nyc_transit = read_csv(file = "./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line:station_longitude, entry, entrance_type, vending, ada, starts_with("route")) %>% 
  mutate(entry = recode(entry, "YES" = TRUE, "NO" = FALSE)) %>% 
  rename(station_lat = station_latitude, 
         station_long = station_longitude)
#nyc_transit

```

#### Describing the data

*Instructions:* Write a short paragraph about this dataset â€“ explain briefly what variables the dataset contains, describe your data cleaning steps so far, and give the dimension (rows x columns) of the resulting dataset. Are these data tidy?

*Response:* This dataset contains information on New York City subway lines and stations, including the line (e.g. 4th Avenue), station name, exact station location (latitute and longitude), routes served (e.g. A, 1), entrances and entrance types, presence of vendors, and ADA compliance. The data have been imported to R, variable names have been cleaned, variables have been re-ordered to make them easier to read, and the "entry" variable has been changed from a character to a logical variable. In its current form, the data is in a table of dimensions `r nrow(nyc_transit)` x `r ncol(nyc_transit)`. The data are somewhat tidy, but more work could be done. I would suggest creating an additional variable that sums the number of routes served by a station.  

#### Question responses

**Item: How many distinct stations are there? Note that stations are identified both by name and by line (e.g. 125th St A/B/C/D; 125st 1; 125st 4/5); the distinct function may be useful here.**

There are `r nrow(distinct(nyc_transit, station_name, route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11))` distinct stations in this dataset. 

**Item: How many stations are ADA compliant?**

There are `r tally(nyc_transit, ada == TRUE)` ADA compliant stations.

**Item: What proportion of station entrances / exits without vending allow entrance?**

`r filter(nyc_transit, entry == TRUE & vending == "NO") %>% tally(entry)` out of `r tally(nyc_transit, vending == "NO")` station entrances/exits without venidng allow entrance.

**Item: Reformat data so that route number and route name are distinct variables. How many distinct stations serve the A train? How many are ADA compliant?**

Reformatting

```{r}

```

`r ` distinct stations serve the A train. Of those, `r` are ADA compliant.


## Problem #2

#### Reading in and cleaning Mr. Trash Wheel data

```{r import and clean data 2}
library(readxl)
trash_wheel = readxl::read_excel("./data/HealthyHarborWaterWheelTotals2017-9-26.xlsx",
                                 sheet = "Mr. Trash Wheel", 
                                 range = "A2:N258") %>% 
  janitor::clean_names() %>% 
  filter(!is.na(dumpster)) %>% 
  mutate(
    sports_balls = round(sports_balls, digits = 0),
    sports_balls = as.integer(sports_balls)
    )

```

#### Reading in and cleaning precipitation data

2017 Precipitation Data

```{r import and clean data 3}
library(readxl)

precip_2017 = readxl::read_excel("./data/HealthyHarborWaterWheelTotals2017-9-26.xlsx",
                                 sheet = "2017 Precipitation", 
                                 range = "A2:B14") %>% 
  janitor::clean_names() %>%
  rename(precip_inches = total) %>% 
  mutate(year = "2017",
         month = month.name) %>% 
  filter(!is.na(precip_inches))

View(precip_2017)
```

 2016 Precipitation Data
 
```{r}
precip_2016 = readxl::read_excel("./data/HealthyHarborWaterWheelTotals2017-9-26.xlsx",
                                 sheet = "2016 Precipitation", 
                                 range = "A2:B14") %>% 
  janitor::clean_names() %>%
  rename(precip_inches = total) %>% 
  mutate(year = "2016",
         month = month.name)

View(precip_2016)

```

Combining 2016 and 2017 Precipitation Data

```{r}



summary(precip)

```


#### Description of the Mr. Trash Wheel dataset

